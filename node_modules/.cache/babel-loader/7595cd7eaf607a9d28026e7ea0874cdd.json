{"ast":null,"code":"var _s2 = $RefreshSig$();\nimport { useEffect, useRef } from \"react\";\nexport const useObserver = (ref, canLoad, isLoading, callback) => {\n  _s2();\n  var _s = $RefreshSig$();\n  useEffect(_s(() => {\n    _s();\n    const observer = useRef();\n    if (isLoading) {\n      return;\n    }\n    if (observer.current) {\n      observer.current.disconnect();\n    }\n    const cb = (entries, observer) => {\n      if (entries[0].isIntersecting && canLoad) {\n        callback();\n      }\n    };\n    observer.current = new IntersectionObserver(cb);\n    observer.current.observe(ref.current);\n  }, \"9G25NHYf1I9Zk0njQPeVliNnCvU=\"), [isLoading]);\n};\n_s2(useObserver, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");","map":{"version":3,"names":["useEffect","useRef","useObserver","ref","canLoad","isLoading","callback","observer","current","disconnect","cb","entries","isIntersecting","IntersectionObserver","observe"],"sources":["/home/dima/WebstormProjects/react_app/src/hooks/useObserver.js"],"sourcesContent":["import {useEffect, useRef} from \"react\";\n\nexport const useObserver = (ref, canLoad, isLoading, callback) => {\n    useEffect(() => {\n        const observer = useRef();\n\n        if (isLoading) {\n            return\n        }\n        if (observer.current) {\n            observer.current.disconnect()\n        }\n        const cb = (entries, observer) => {\n            if (entries[0].isIntersecting && canLoad){\n                callback()\n            }\n        }\n\n        observer.current = new IntersectionObserver(cb);\n        observer.current.observe(ref.current)\n\n    }, [isLoading])\n}"],"mappings":";AAAA,SAAQA,SAAS,EAAEC,MAAM,QAAO,OAAO;AAEvC,OAAO,MAAMC,WAAW,GAAG,CAACC,GAAG,EAAEC,OAAO,EAAEC,SAAS,EAAEC,QAAQ,KAAK;EAAA;EAAA;EAC9DN,SAAS,IAAC,MAAM;IAAA;IACZ,MAAMO,QAAQ,GAAGN,MAAM,EAAE;IAEzB,IAAII,SAAS,EAAE;MACX;IACJ;IACA,IAAIE,QAAQ,CAACC,OAAO,EAAE;MAClBD,QAAQ,CAACC,OAAO,CAACC,UAAU,EAAE;IACjC;IACA,MAAMC,EAAE,GAAG,CAACC,OAAO,EAAEJ,QAAQ,KAAK;MAC9B,IAAII,OAAO,CAAC,CAAC,CAAC,CAACC,cAAc,IAAIR,OAAO,EAAC;QACrCE,QAAQ,EAAE;MACd;IACJ,CAAC;IAEDC,QAAQ,CAACC,OAAO,GAAG,IAAIK,oBAAoB,CAACH,EAAE,CAAC;IAC/CH,QAAQ,CAACC,OAAO,CAACM,OAAO,CAACX,GAAG,CAACK,OAAO,CAAC;EAEzC,CAAC,mCAAE,CAACH,SAAS,CAAC,CAAC;AACnB,CAAC;AAAA,IApBYH,WAAW"},"metadata":{},"sourceType":"module"}